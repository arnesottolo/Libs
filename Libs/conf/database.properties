## PARAMETRI DI CONNESSIONE AL DATABASE

db.driver=oracle.jdbc.driver.OracleDriver
#db.url= jdbc:oracle:oci:@BMTDBSRV
#gor08
db.url=jdbc:oracle:thin:@(DESCRIPTION =(ENABLE = BROKEN) (ADDRESS_LIST =(LOAD_BALANCE = ON)(FAILOVER = ON)(ADDRESS = (PROTOCOL = TCP)(Host = gor08srv-a.gruppo.autostrade.it)(Port = 1521))(ADDRESS = (PROTOCOL = TCP)(Host = gor08srv-b.gruppo.autostrade.it)(Port = 1521))(ADDRESS = (PROTOCOL = TCP)(Host = gor08srv-c.gruppo.autostrade.it)(Port = 1521)) (ADDRESS = (PROTOCOL = TCP)(Host = gor08srv-d.gruppo.autostrade.it)(Port = 1521))(ADDRESS = (PROTOCOL = TCP)(Host = gor08srv-e.gruppo.autostrade.it)(Port = 1521))(ADDRESS = (PROTOCOL = TCP)(Host = gor08srv-f.gruppo.autostrade.it)(Port = 1521)))(CONNECT_DATA =(SERVICE_NAME = BMTDBSRV.gruppo.autostrade.it)(FAILOVER_MODE =(TYPE = SELECT)(METHOD = BASIC)(RETRIES = 10)(DELAY = 3)))(DESCRIPTION =(ADDRESS_LIST =(LOAD_BALANCE = ON)(FAILOVER = ON)(ADDRESS = (PROTOCOL = TCP)(Host = dgor08srv-a.gruppo.autostrade.it)(Port = 1521))(ADDRESS = (PROTOCOL = TCP)(Host = dgor08srv-b.gruppo.autostrade.it)(Port = 1521)))(CONNECT_DATA =(SERVICE_NAME = BMTDBSRV.gruppo.autostrade.it)(FAILOVER_MODE =(TYPE = SELECT)(METHOD = BASIC)(RETRIES = 10)(DELAY = 3)))))
#por08
#db.url=jdbc:oracle:thin:@(DESCRIPTION =    (ENABLE = BROKEN)    (ADDRESS_LIST =      (LOAD_BALANCE = ON)      (FAILOVER = ON)      (ADDRESS = (PROTOCOL = TCP)(Host = por08srv-sc0.gruppo.autostrade.it)(Port = 1521))       )      (CONNECT_DATA =      (SERVICE_NAME = POR08.gruppo.autostrade.it)      (FAILOVER_MODE =        (TYPE = SELECT)        (METHOD = BASIC)        (RETRIES = 10)        (DELAY = 3)      )    )  )
#xor08
#db.url=jdbc:oracle:thin:@(DESCRIPTION =    (ENABLE = BROKEN)    (ADDRESS_LIST =      (LOAD_BALANCE = ON)      (FAILOVER = ON)      (ADDRESS = (PROTOCOL = TCP)(Host = xor08srv-sc0.gruppo.autostrade.it)(Port = 1521))       )      (CONNECT_DATA =      (SERVICE_NAME = XOR08.gruppo.autostrade.it)      (FAILOVER_MODE =        (TYPE = SELECT)        (METHOD = BASIC)        (RETRIES = 10)        (DELAY = 3)      )    )  )

## BMT
#db.user = bmtu
#db.pass = bmtu

## BMA
#db.user = bmaa
#db.pass = bmaa

## PROD
db.user = 17000026
db.pass = cqfp0513


#sql = SELECT 			c_ads,			n_prg_aff,  			n_prg_aff_plz,			c_att,  			c_cat,			c_tip,  			c_kpi,			c_id kpiId,  			t_des_brv kpidesc,			N_PRG_CLS_PNL,  			COUNT(*) ril,			SUM(  			CASE				WHEN c_val                                                                                                                                     IN ('3', '5')  					AND EXTRACT(HOUR FROM to_timestamp(d_ini_isp, 'dd-mm-yy HH24:mi:ss'))*60+EXTRACT(MINUTE FROM to_timestamp(d_ini_isp, 'dd-mm-yy HH24:mi:ss')) 					BETWEEN NVL( EXTRACT(HOUR FROM to_timestamp(d_ora_pnl_ini, 'dd-mm-yy HH24:mi:ss'))*60+EXTRACT(MINUTE FROM to_timestamp(d_ora_pnl_ini, 'dd-mm-yy HH24:mi:ss')), 0)  					AND NVL( EXTRACT(HOUR FROM to_timestamp(d_ora_pnl_fin, 'dd-mm-yy HH24:mi:ss'))*60+EXTRACT(MINUTE FROM to_timestamp(d_ora_pnl_fin, 'dd-mm-yy HH24:mi:ss')), 24*60)  				THEN 1 ELSE 0  			END ) nc,			ROUND( SUM(  			CASE				WHEN c_val                                                                                                                                     IN ('3', '5')  					AND EXTRACT(HOUR FROM to_timestamp(d_ini_isp, 'dd-mm-yy HH24:mi:ss'))*60+EXTRACT(MINUTE FROM to_timestamp(d_ini_isp, 'dd-mm-yy HH24:mi:ss')) 					BETWEEN NVL( EXTRACT(HOUR FROM to_timestamp(d_ora_pnl_ini, 'dd-mm-yy HH24:mi:ss'))*60+EXTRACT(MINUTE FROM to_timestamp(d_ora_pnl_ini, 'dd-mm-yy HH24:mi:ss')), 0)  					AND NVL( EXTRACT(HOUR FROM to_timestamp(d_ora_pnl_fin, 'dd-mm-yy HH24:mi:ss'))*60+EXTRACT(MINUTE FROM to_timestamp(d_ora_pnl_fin, 'dd-mm-yy HH24:mi:ss')), 24*60)  				THEN 1 ELSE 0  			END )                                                                    / COUNT(*) * 100, 1) perc		FROM  			BMAA.tbma10_ril_cer rilcer		JOIN BMAA.tbma05_kpi_con KpiCon USING(C_KPI)  		JOIN BMAA.tbma04_kpi Kpi USING(C_KPI)		JOIN BMAA.tbma06_ads_con AdsCon USING(C_ADS, C_ATT, C_VER_CON, C_CAT)  		LEFT JOIN BMAA.tbma59_cat_pnl_ore USING(c_cat)		WHERE  			D_INI_ISP BETWEEN AdsCon.d_ini AND NVL(AdsCon.d_fin, sysdate)			AND d_ini_isp BETWEEN NVL(d_pnl_ini, d_ini_isp) AND NVL(d_pnl_fin, SYSDATE)  			AND C_ADS IN ('A05', 'A06', 'A10', 'A11', 'A15', 'A16', 'A20', 'A21', 'A25', 'A26', 'A30', 'A31', 'A35', 'A36', 'A40', 'A41', 'A45', 'A46', 'A50', 'A51', 'A55', 'A60', 'A61', 'A66', 'A70', 'A71', 'A75', 'A76', 'A80', 'A81', 'A85', 'A86', 'A90', 'A91', 'A95', 'A96', 'B05', 'B06', 'B10', 'B11', 'B15', 'B16', 'B20', 'B21', 'B25', 'B26', 'B30', 'B31', 'B35', 'B36', 'B40', 'B41', 'B45', 'B46', 'B50', 'B51', 'B55', 'B56', 'B57', 'B59', 'B61', 'B62', 'D01', 'D10', 'D11', 'D20', 'D21', 'D30', 'D31', 'D40', 'D41', 'D50', 'D51', 'G60', 'G61', 'G70', 'G71', 'G80', 'G90', 'H10', 'H11', 'H20', 'H21', 'H30', 'H31', 'I10', 'I11', 'J10', 'J11', 'J20', 'J21', 'J30', 'K10', 'K11', 'K20', 'K21', 'K30', 'K31', 'L10', 'L11', 'L20', 'L21', 'L30', 'L31', 'L80', 'L81', 'L90', 'L91', 'M10', 'M11', 'M20', 'M21', 'M30', 'M31', 'M40', 'M41', 'N05', 'N06', 'N10', 'N11', 'N15', 'N16', 'N20', 'N21', 'N25', 'N26', 'N30', 'N31', 'N35', 'N36', 'N40', 'N41', 'N45', 'N46', 'N50', 'N51', 'N55', 'N56', 'N60', 'N61',			'N65', 'N66', 'N70', 'N71', 'N75', 'N76', 'N80', 'N81', 'N85', 'N86', 'N90', 'N91', 'N95', 'N96', 'O05', 'O06', 'O10', 'O11', 'O15', 'O16', 'O20', 'O21', 'O25', 'O26', 'O30', 'O31', 'O35', 'O36', 'O40', 'O41', 'O45', 'O46', 'O50', 'O51', 'P10', 'P11', 'P20', 'P21', 'P30', 'P31', 'P40', 'P41', 'P50', 'P51', 'P60', 'P61', 'W10', 'W11', 'W21', 'W30', 'X10', 'X11', 'X20', 'X21', 'X30', 'X31', 'X40', 'X41', 'X50', 'X51', 'X61', 'X71', 'X72', 'X80', 'X81', 'X90', 'X91', 'Y05', 'Y10', 'Y11', 'Y20', 'Z10', 'Z11', 'Z20', 'Z21', 'Z99', '408', '409', '410', '411', '468', '469', '470', '471', '472', '473', '474', '475', '476', '477', '478', '479', '480', '481', '482', '483', '485', '486', '490', '491', '492', '493')  			AND c_kpi IN ('107', '108', '109', '110', '111', '112', '152', '113', '153', '114', '115', '154', '123', '124', '125', '126', '127', '128', '129', '130', '131', '132', '133', '134', '135', '136', '137', '138', '139', '140', '141', '145', '169', '170', '171', '172', '173', '159', '160', '161', '162', '163', '164', '167', '165', '147', '149', '148', '150', '151', '47', '93', '1', '35', '48', '94', '2', '36', '49', '95', '3', '37', '50', '96', '4', '38', '51', '97', '5', '39', '52', '98', '40', '116', '99', '6', '41', '53', '117', '100', '7', '42', '54', '101', '8', '43', '102', '9', '44', '55', '118', '103', '45', '56', '119', '104', '10', '46', '105', '155', '57', '106', '11', '168', '58', '12', '59', '13', '60', '14', '61', '146', '62', '63', '64', '15', '65', '16', '66', '17', '67', '18', '68', '19', '20', '21', '69', '22', '120', '23', '121', '24', '70', '25', '26', '27', '28', '29', '71', '30', '72', '31', '73', '32', '74', '33', '75', '34', '143', '76', '77', '78', '79', '122'			, '80', '142', '81', '82', '83', '84', '85', '86', '144', '87', '88', '89', '90', '91', '92')  			AND D_INI_ISP BETWEEN to_date('01/07/2011', 'dd/mm/yyyy') AND to_date('31/12/2011', 'dd/mm/yyyy')			AND n_prg_cls_pnl != 0  		GROUP BY			c_ads,  			n_prg_aff,			n_prg_aff_plz,  			c_att,			c_cat,  			c_tip,			c_kpi,  			c_id,			t_des_brv,  			N_PRG_CLS_PNL ORDER BY c_ads,			n_prg_aff,			c_att,		c_kpi
sql = SELECT 	c_ads, 	c_att, 	c_kpi, 	c_val, 	d_ini_isp, 	NVL( to_char(d_ini_isp, 'HH24')*60+to_char(d_ini_isp, 'mi'), 0) minuti_da, 	to_char(d_ora_pnl_ini, 'HH24')*60+to_char(d_ora_pnl_ini, 'mi') minuti_Isp, 	NVL( to_char(d_ora_pnl_fin, 'HH24')*60+to_char(d_ora_pnl_fin, 'mi'), 24*60) minuti_A,  	CASE 		WHEN c_val                                                           IN ('3', '5') 			AND to_char(d_ini_isp, 'HH24')*60+to_char(d_ini_isp, 'mi') 				BETWEEN NVL( to_char(d_ini_isp, 'HH24')*60+to_char(d_ini_isp, 'mi'), 0) 				AND NVL( to_char(d_ora_pnl_fin, 'HH24')*60+to_char(d_ora_pnl_fin, 'mi'), 24*60) 			THEN 1 ELSE 0 	END condizione FROM 	BMAA.tbma10_ril_cer ril JOIN BMAA.tbma04_kpi Kpi USING(C_KPI) LEFT JOIN BMAA.tbma59_cat_pnl_ore USING(c_cat) WHERE 	D_INI_ISP BETWEEN to_date('01/07/2011', 'dd/mm/yyyy') AND to_date('31/12/2011', 'dd/mm/yyyy') 	AND c_ads ='A10' 	AND c_kpi = 161

# Cartella file 
datPath = dat/